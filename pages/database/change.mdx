# Зміни в таблицях

У випадку внесення будь-яких змін у таблиці, необхідно зберегти зміни у файлі `prisma.schema`:

## Оновити типи даних таблиць у сервері бази даних
Після виконання оновлень по вказівкам, як опсиано нижче, необхідно виконати команду для оновлення конфігурацій таблиць у віддаленному сервері бази даних:

```bash copy
prisma db push
```

У випадку, якщо при оновленні типів даних таблиць виникли помилки, то можна або відмінити зміни, попередньо виправивши помилки, або на **свій ризик** виконати команду:

```bash copy
prisma db push --force
```

## GIT-репозиторій

Якщо цей файл зберігається на репозиторії, то варто виконати наступні дії:

### 1. Створити нову гілку

```bash copy
git checkout -b [назва гілки]
```

### 2. Зберегти зміни у файлі `prisma.schema`

```bash copy
git add prisma.schema
git commit -am "Зміни в таблицях"
git push
```

### 3. Створити пул-реквест

#### Відкрити сторінку створення ПР
![Перейти на сторінку створення ПР](/images/database/pr-create-1.png)

#### Вибрати гілку для ПР
![Кнопка створення нового ПР](/images/database/pr-create-2.png)

#### Вибрати гілку для ПР

- Вибрати гілку, в якій змінено файл `prisma.schema`
- Вибрати гілку, в яку буде злито зміни (головну)

#### Заповнити опис ПР

- Вказати назву ПР
- Вказати опис ПР
- Вказати відповідального за ПР

#### Створити ПР

- Натиснути кнопку `Create pull request`

#### Залити зміни у головнку гілку

- Натиснути кнопку `Merge pull request`
- Натиснути кнопку `Confirm merge`

### 4. [Оновити типи даних таблиць у сервері бази даних](#оновити-типи-даних-таблиць-у-сервері-бази-даних)


## Локальний файл на віддаленому сервері

Якщо цей файл зберігається на віддаленому сервері, то варто виконати наступні дії:

### 1. Зберегти зміни у файлі `prisma.schema`

### 2. Оновити вихідні файли для продакшена

```bash copy
npm run build
npm run start
```

### 3. [Оновити типи даних таблиць у сервері бази даних](#оновити-типи-даних-таблиць-у-сервері-бази-даних)


